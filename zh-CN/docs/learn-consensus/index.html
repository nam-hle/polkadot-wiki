<!doctype html>
<html lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/polkadot-wiki/zh-CN/blog/rss.xml" title="Guide Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/polkadot-wiki/zh-CN/blog/atom.xml" title="Guide Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/polkadot-wiki/zh-CN/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="/polkadot-wiki/js/custom.js"></script>
<script src="/polkadot-wiki/js/klaro-config.js"></script>
<script src="/polkadot-wiki/js/klaro.js"></script>
<script src="/polkadot-wiki/js/clipboard.min.js"></script>
<script src="/polkadot-wiki/js/copycode.js"></script><title data-react-helmet="true">波卡共识 · Guide</title><meta data-react-helmet="true" property="og:url" content="https://nam-hle.github.io//polkadot-wiki/zh-CN/docs/learn-consensus"><meta data-react-helmet="true" name="docsearch:language" content="zh-CN"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="波卡共识 · Guide"><meta data-react-helmet="true" name="description" content="对 Polkadot 和 Kusama 所用的共识解释"><meta data-react-helmet="true" property="og:description" content="对 Polkadot 和 Kusama 所用的共识解释"><link data-react-helmet="true" rel="shortcut icon" href="/polkadot-wiki/zh-CN/img/Kusama_Canary_white.png"><link data-react-helmet="true" rel="canonical" href="https://nam-hle.github.io//polkadot-wiki/zh-CN/docs/learn-consensus"><link data-react-helmet="true" rel="alternate" href="https://nam-hle.github.io//polkadot-wiki/docs/learn-consensus" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nam-hle.github.io//polkadot-wiki/zh-CN/docs/learn-consensus" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://nam-hle.github.io//polkadot-wiki/docs/learn-consensus" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/polkadot-wiki/zh-CN/assets/css/styles.feaf174d.css">
<link rel="preload" href="/polkadot-wiki/zh-CN/assets/js/runtime~main.53b8a31f.js" as="script">
<link rel="preload" href="/polkadot-wiki/zh-CN/assets/js/main.c6ab08b1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">跳到主要内容</a></div><div class="announcementBar_3WsW" style="background-color:#e6007a;color:#000" role="banner"><div class="announcementBarContent_3EUC"><a id="support_us" href="/docs/contributing" title="Contribute to this wiki" data-ribbon="Contribute to this wiki">
          Contribute to this wiki
        </a></div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/polkadot-wiki/zh-CN/"><img src="/polkadot-wiki/zh-CN/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/polkadot-wiki/zh-CN/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Guide</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/polkadot-wiki/zh-CN/docs/kusama-getting-started">Get Started</a><a class="navbar__item navbar__link" href="/polkadot-wiki/zh-CN/docs/kusama-index">Docs</a><div class="searchWrapper_3rmH"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/polkadot-wiki/docs/learn-consensus" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/polkadot-wiki/zh-CN/docs/learn-consensus" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">中文</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/polkadot-wiki/zh-CN/"><img src="/polkadot-wiki/zh-CN/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/polkadot-wiki/zh-CN/img/Kusama_logotype_white_large.png" alt="Guide" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Guide</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/polkadot-wiki/zh-CN/docs/kusama-getting-started">Get Started</a></li><li class="menu__list-item"><a class="menu__link" href="/polkadot-wiki/zh-CN/docs/kusama-index">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/polkadot-wiki/docs/learn-consensus" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/polkadot-wiki/zh-CN/docs/learn-consensus" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">中文</a></li><li class="menu__list-item"><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="menu__link">Help us translate</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">波卡共识</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="为什么我们需要共识机制？"></a>为什么我们需要共识机制？<a class="hash-link" href="#为什么我们需要共识机制？" title="标题的直接链接">#</a></h2><p>共识是一种在共享状态上达成协议的方法。为了使区块链的状态继续建立并向前进，网络中的所有节点必须达成一致共识。通过这种方式，去中心网络中的节点可以保持彼此同步。在区块链上如果去中心化网络节点没有共识，就无法确保由其他节点共享的状态 是真实的。共识旨在参与者之间提供状态的<em>客观</em>事实，每个参与者对网络都有自己的<em>主观</em>观点。这些节点间进行通信的过程并达成协议使能够构建新区块。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="什么是-pow-和-pos？"></a>什么是 PoW 和 PoS？<a class="hash-link" href="#什么是-pow-和-pos？" title="标题的直接链接">#</a></h2><p>工作量证明(PoW) 和权益证明(PoS) 已被用来作为区块链共识机制的简称，但这并不能完整地描述其全貌。 PoW是达成区块创造者共识的方法，也是<a href="#nakamoto-consensus">中本聪共识</a>的一部分，该共识还包含链选择算法(根据比特币中最长链的规则)。同样PoS是用于选择验证人的一组规则并且没有指定链的选择规则或如何达到链的终点。传统上PoS算法已被融合到实现节点之间的拜占庭协议的算法配对。例如<a href="/polkadot-wiki/zh-CN/docs/learn-comparisons-cosmos">Tendermint</a>是实用性拜占庭容错算法，它使用PoS作为其验证人的选择方法。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="为什么不使用工作量证明pow"></a>为什么不使用工作量证明(PoW)?<a class="hash-link" href="#为什么不使用工作量证明pow" title="标题的直接链接">#</a></h2><p>尽管在下一个区块生产者达成去中心化共识方面既简单又有效，但中本聪共识实现的工作量证明却消耗了大量的能源，没有经济的或可证明的终结性，也没有有效的策略来抵抗卡特尔。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="概率性-vs-可证明的最终性"></a>概率性 vs 可证明的最终性<a class="hash-link" href="#概率性-vs-可证明的最终性" title="标题的直接链接">#</a></h2><p>A pure Nakamoto consensus blockchain that runs PoW is only able to achieve the notion of <em>probabilistic finality</em> and reach <em>eventual consensus</em>. Probabilistic finality means that under some assumptions about the network and participants, if we see a few blocks building on a given block, we can estimate the probability that it is final. Eventual consensus means that at some point in the future, all nodes will agree on the truthfulness of one set of data. This eventual consensus may take a long time and will not be able to be determined how long it will take ahead of time. However, finality gadgets such as GRANDPA (GHOST-based Recursive ANcestor Deriving Prefix Agreement) or Ethereum&#x27;s Casper FFG (the Friendly Finality Gadget) are designed to give stronger and quicker guarantees on the finality of blocks - specifically, that they can never be reverted after some process of Byzantine agreements has taken place. The notion of irreversible consensus is known as <em>provable finality.</em></p><p>In the <a href="https://github.com/w3f/consensus/blob/master/pdf/grandpa.pdf" target="_blank" rel="noopener noreferrer">GRANDPA paper</a>, it is phrased in this way:</p><blockquote><p>如果在没有指定的时间后向所有参与者返回相同的值，oracle A 在协议中是<em>最终一致</em>。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="什么是-grandpa--babe"></a>什么是 GRANDPA / BABE?<a class="hash-link" href="#什么是-grandpa--babe" title="标题的直接链接">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="混合共识"></a>混合共识<a class="hash-link" href="#混合共识" title="标题的直接链接">#</a></h3><p>There are two protocols we use when we talk about the consensus protocol of Polkadot, GRANDPA and BABE (Blind Assignment for Blockchain Extension). We talk about both of these because Polkadot uses what is known as <em>hybrid consensus</em>. Hybrid consensus splits up the finality gadget from the block production mechanism.</p><p>这是在 Polkadot 中获得概率最终性（拥有产生新区块的能力）和可证明的最终性（在规范链上具有通用协议，没有任何逆转机会）的好处。它还避免了每种机制的相应缺点（在概率最终性中不知不觉地遵循了错误的分叉的机会，以及在可证明的最终性中存在&quot;过时&quot;的可能性- 无法产生新的区块）。通过结合这两种机制，Polkadot 可以快速生成区块，而较慢的最终机制可以在单独的流程中运行以确定区块，而不会使交易速度变慢或停顿的风险。</p><p>过去已经提出了混合共识。值得注意的是它被提议(现已不存在)作为以太坊转向<a href="http://eips.ethereum.org/EIPS/eip-1011" target="_blank" rel="noopener noreferrer"> EIP 1011 </a>的权益证明过渡的一步。 <a href="#casper-ffg"> Casper FFG </a>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="babe"></a>BABE<a class="hash-link" href="#babe" title="标题的直接链接">#</a></h3><p>BABE (Blind Assignment for Blockchain Extension) 是在验证人节点与决定谁是产生新区块之间的产生区块机制。 BABE 与 Ouroboros Praos 相比，在链选择规则和时段调整方面存在一些关键差异。 BABE 根据抵押和使用 Polkadot <a href="/polkadot-wiki/zh-CN/docs/learn-randomness">随机性周期</a>分配区块生产插槽给验证人。</p><p>Validators in Polkadot will participate in a lottery in every slot that will tell them whether or not they are the block producer candidate for that slot. Slots are discrete units of time, nominally 6 seconds in length. Because of this randomness mechanism, multiple validators could be candidates for the same slot. Other times, a slot could be empty, resulting in inconsistent block time.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="同一时隙多个验证人"></a>同一时隙多个验证人<a class="hash-link" href="#同一时隙多个验证人" title="标题的直接链接">#</a></h4><p>当多个验证人在同一时隙也是区块生产侯选人，全部也会产生区块并广播到网络。那时侯将会是一场比赛。其那个区块到达网络大部分的验证人先获胜。取决于网络拓扑和延迟，两条链都将继续建立一定的容量，直到最终敲定并截断分叉为止。有关其工作原理，请参见下面的&quot;分叉选择&quot;。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="时隙里没有验证人"></a>时隙里没有验证人<a class="hash-link" href="#时隙里没有验证人" title="标题的直接链接">#</a></h4><p>当没有任何验证人在随机抽奖中达到足够低的资格进行生产区块时，时隙便会没有区块。我们在后台通过运行辅助轮循样式验证人选择算法来避免这种情况。通过选择该算法生成区块的验证人始终生成区块，但是如果同一时隙也从<a href="/polkadot-wiki/zh-CN/docs/learn-randomness"> VRF 选择</a>验证人生成主块，则这些<em>次要</em>区块将被忽略。因此时隙可以具有<em> 主要 </em>或<em> 次要 </em>区块，并且不会跳过任何时隙。</p><p>For more details on BABE, please see the <a href="https://research.web3.foundation/en/latest/polkadot/block-production/Babe.html" target="_blank" rel="noopener noreferrer">BABE paper</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="kusama-和-polkadot-的-babe-次生块的区别"></a>Kusama 和 Polkadot 的 BABE 次生块的区别<a class="hash-link" href="#kusama-和-polkadot-的-babe-次生块的区别" title="标题的直接链接">#</a></h4><p>Both Kusama and Polkadot uses the BABE block production mechanism outlined above. However, there is a slight difference in the secondary blocks that are produced between the two networks. Polkadot attaches the VRF output to secondary blocks (and therefore every block contributes to the Epoch randomness), while Kusama keeps the VRF output off the secondary blocks (meaning only the primary blocks contribute to Epoch randomness). The Polkadot method should give stronger randomness as more inputs are collected during every Epoch. Eventually, this change should make its way into Kusama too.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="grandpa-最终决定性工具"></a>GRANDPA: 最终决定性工具<a class="hash-link" href="#grandpa-最终决定性工具" title="标题的直接链接">#</a></h3><p>GRANDPA (基于 GHOST 的递归祖先派生前缀协议) 是为 Polkadot 中继链实现的最终性工具。</p><p>只要2/3的节点是诚实的，并且可以在异步设置中处理1/5的拜占庭节点，它就可以作为同步的网络模型中的一部分运行。</p><p>一个明显的区别是，即使在长期的网络分区或其他网络故障之后，GRANDPA 还是在链上达成协议，而不是在区块上达成协议，从而大大加快了最终性确定的过程。</p><p>换句话说，一旦超过2/3的验证者证明包含某个块的链，则导致该块的所有块都会立即完成。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="协议"></a>协议<a class="hash-link" href="#协议" title="标题的直接链接">#</a></h4><p>Please refer to <a href="https://github.com/w3f/consensus/blob/master/pdf/grandpa.pdf" target="_blank" rel="noopener noreferrer">the GRANDPA paper</a> for a full description of the protocol.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="实施"></a>实施<a class="hash-link" href="#实施" title="标题的直接链接">#</a></h4><p>The <a href="https://github.com/paritytech/substrate/blob/master/frame/grandpa/src/lib.rs" target="_blank" rel="noopener noreferrer">Substrate implementation of GRANDPA</a> is part of Substrate Frame.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="分叉选择"></a>分叉选择<a class="hash-link" href="#分叉选择" title="标题的直接链接">#</a></h3><p>Bringing BABE and GRANDPA together, the fork choice of Polkadot becomes clear. BABE must always build on the chain that has been finalized by GRANDPA. When there are forks after the finalized head, BABE provides probabilistic finality by building on the chain with the most primary blocks.</p><p><img alt="Best chain choice" src="/polkadot-wiki/zh-CN/assets/images/best_chain-52a3da00fb2f804a198c73690fcedc4f.png"></p><p>In the above image, the black blocks are finalized, and the yellow blocks are not. Blocks marked with a &quot;1&quot; are primary blocks; those marked with a &quot;2&quot; are secondary blocks. Even though the topmost chain is the longest chain on the latest finalized block, it does not qualify because it has fewer primaries at the time of evaluation than the one below it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="共识比较"></a>共识比较<a class="hash-link" href="#共识比较" title="标题的直接链接">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="中本聪共识"></a>中本聪共识<a class="hash-link" href="#中本聪共识" title="标题的直接链接">#</a></h3><p>Nakamoto consensus consists of the longest chain rule using proof of work as its sybil resistance mechanism and leader election.</p><p>Nakamoto consensus only gives us probabilistic finality. Probabilistic finality states that a block in the past is only as safe as the number of confirmations it has, or the number of blocks that have been built on top of it. As more blocks are built on top of a specific block in a Proof of Work chain, more computational work has been expended behind this particular chain. However, it does not guarantee that the chain containing the block will always remain the agreed-upon chain, since an actor with unlimited resources could potentially build a competing chain and expend enough computational resources to create a chain that did not contain a specific block. In such a situation, the longest chain rule employed in Bitcoin and other proof of work chains would move to this new chain as the canonical one.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pbft--tendermint"></a>PBFT / Tendermint<a class="hash-link" href="#pbft--tendermint" title="标题的直接链接">#</a></h3><p>Please see the <a href="/polkadot-wiki/zh-CN/docs/learn-comparisons-cosmos#consensus">relevant section</a> in the Cosmos comparison article.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="casper-ffg"></a>Casper FFG<a class="hash-link" href="#casper-ffg" title="标题的直接链接">#</a></h3><p>The two main differences between GRANDPA and Casper FFG are:</p><ul><li>在GRANDPA中，不同的选民可以同时为不同高度的区块投票</li><li>GRANDPA 依靠最终的区块来影响底层区块生产机制的分叉选择规则</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="资源"></a>资源<a class="hash-link" href="#资源" title="标题的直接链接">#</a></h2><ul><li><a href="https://research.web3.foundation/en/latest/polkadot/block-production/Babe.html" target="_blank" rel="noopener noreferrer">BABE paper</a> - The academic description of the BABE protocol.</li><li><a href="https://github.com/w3f/consensus/blob/master/pdf/grandpa.pdf" target="_blank" rel="noopener noreferrer">GRANDPA paper</a> - The academic description of the GRANDPA finality gadget. Contains formal proofs of the algorithm.</li><li><a href="https://github.com/paritytech/finality-grandpa" target="_blank" rel="noopener noreferrer">Rust implementation</a> - The reference implementation and the accompanying <a href="https://github.com/paritytech/substrate/blob/master/frame/grandpa/src/lib.rs" target="_blank" rel="noopener noreferrer">Substrate pallet</a>.</li><li><a href="https://www.crowdcast.io/e/polkadot-block-production" target="_blank" rel="noopener noreferrer">Block Production and Finalization in Polkadot</a> - An explanation of how BABE and GRANDPA work together to produce and finalize blocks on Kusama, with Bill Laboon.</li><li><a href="https://www.youtube.com/watch?v=1CuTSluL7v4&amp;t=4s" target="_blank" rel="noopener noreferrer">Block Production and Finalization in Polkadot: Understanding the BABE and GRANDPA Protocols</a> - An academic talk by Bill Laboon, given at MIT Cryptoeconomic Systems 2020, describing Polkadot&#x27;s hybrid consensus model in-depth.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/w3f/polkadot-wiki/edit/master/docs/learn-consensus.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="文档分页导航"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#为什么我们需要共识机制？" class="table-of-contents__link">为什么我们需要共识机制？</a></li><li><a href="#什么是-pow-和-pos？" class="table-of-contents__link">什么是 PoW 和 PoS？</a></li><li><a href="#为什么不使用工作量证明pow" class="table-of-contents__link">为什么不使用工作量证明(PoW)?</a></li><li><a href="#概率性-vs-可证明的最终性" class="table-of-contents__link">概率性 vs 可证明的最终性</a></li><li><a href="#什么是-grandpa--babe" class="table-of-contents__link">什么是 GRANDPA / BABE?</a><ul><li><a href="#混合共识" class="table-of-contents__link">混合共识</a></li><li><a href="#babe" class="table-of-contents__link">BABE</a></li><li><a href="#grandpa-最终决定性工具" class="table-of-contents__link">GRANDPA: 最终决定性工具</a></li><li><a href="#分叉选择" class="table-of-contents__link">分叉选择</a></li></ul></li><li><a href="#共识比较" class="table-of-contents__link">共识比较</a><ul><li><a href="#中本聪共识" class="table-of-contents__link">中本聪共识</a></li><li><a href="#pbft--tendermint" class="table-of-contents__link">PBFT / Tendermint</a></li><li><a href="#casper-ffg" class="table-of-contents__link">Casper FFG</a></li></ul></li><li><a href="#资源" class="table-of-contents__link">资源</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/polkadot-wiki/zh-CN/" class="nav-home"><img src="/polkadot-wiki/zh-CN/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><p class="homepage-font">Kusama is an experimental <br>community research and<br> development network.</p><a href="/polkadot-wiki/zh-CN/docs/kusama-index" target="_blank" class="homepage-font">Docs</a><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler (Element Chat)</a></div><a href="/kusama-wiki.zip" target="_blank" rel="noreferrer noopener">Download this Guide as PDF</a></section><section class="row"><div class="copyright homepage-font">© 2021 Web3 Foundation</div><a class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a><a class="item homepage-font" href="#" id="cookie-settings">Cookie Settings</a></section></footer></div>
<script src="/polkadot-wiki/zh-CN/assets/js/runtime~main.53b8a31f.js"></script>
<script src="/polkadot-wiki/zh-CN/assets/js/main.c6ab08b1.js"></script>
</body>
</html>